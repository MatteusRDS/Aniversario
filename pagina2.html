<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Feliz Aniversário</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(#000, 60%, #111);
      font-family: "Segoe UI", sans-serif;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
    }

    canvas#fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    .container {
      position: relative;
      z-index: 10;
      text-align: center;
      color: white;
      padding: clamp(10px, 5%, 40px);
      max-width: 90vw;
    }

    #texto1 {
      font-size: clamp(2rem, 8vw, 5rem);
      margin-bottom: 0.5em;
      animation: glow 2s infinite alternate;
    }

    #texto2 {
      font-size: clamp(1rem, 4vw, 2em);
      opacity: 0.95;
      color: #fff;
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.7);
      margin-bottom: 1em;
    }

    #image {
      width: clamp(120px, 40%, 250px);
      height: auto;
      border-radius: 100%;
      box-shadow: 0 0 20px rgb(238, 238, 238);
      animation: flutuarZoom 4s infinite ease-in-out;
      display: inline-block;
      opacity: 1;
      transition: opacity 0.8s ease-in-out;
      margin-bottom: 1em;
    }

    #finalMensagem {
      font-size: clamp(1rem, 2.5vw, 1.5em);
      color: #ffccff;
      text-shadow: 0 0 15px #ff99ff;
      display: none;
      animation: glow 2s infinite alternate;
      margin-top: 1em;
    }

    @keyframes flutuarZoom {
      0% {
        transform: scale(1) translateY(0);
      }

      50% {
        transform: scale(1.05) translateY(-10px);
      }

      100% {
        transform: scale(1) translateY(0);
      }
    }

    @keyframes glow {
      from {
        text-shadow: 0 0 10px #fff, 0 0 20px #f0f, 0 0 30px #0ff;
      }

      to {
        text-shadow: 0 0 20px #ff0, 0 0 30px #f00, 0 0 40px #0f0;
      }
    }

    .figurinha {
      position: absolute;
      width: clamp(40px, 10vw, 80px);
      height: auto;
      animation: zoomInOut 3s infinite ease-in-out;
      transition: transform 0.3s;
      pointer-events: none;
      z-index: 5;
    }

    @keyframes zoomInOut {

      0%,
      100% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.8);
      }
    }
  </style>
</head>

<body>
  <audio autoplay loop>
    <source src="Music/PARABÉNS PRA VOCÊ VERSÃO FORRÓ .mp3" type="audio/mpeg">
  </audio>

  <canvas id="fireworks"></canvas>

  <div class="container">
    <h1 id="texto1"></h1>
    <img id="image" src="img/Vida4.jpeg" alt="Imagem de Aniversário" />
    <p id="texto2"></p>
    <p id="finalMensagem">✨ Que seu dia seja tão incrível quanto você ✨</p>
  </div>

  <script>
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let fireworks = [];
    let hearts = [];

    class Firework {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = canvas.height;
        this.targetY = (Math.random() * canvas.height) / 2;
        this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
        this.radius = 3;
        this.speed = 6;
        this.exploded = false;
        this.particles = [];
      }
      update() {
        if (!this.exploded) {
          this.y -= this.speed;
          if (this.y <= this.targetY) {
            this.exploded = true;
            for (let i = 0; i < 120; i++) {
              this.particles.push(new Particle(this.x, this.y, this.color));
            }
          }
        } else {
          this.particles.forEach(p => p.update());
        }
      }
      draw() {
        if (!this.exploded) {
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
          ctx.fillStyle = this.color;
          ctx.shadowColor = this.color;
          ctx.shadowBlur = 20;
          ctx.fill();
          ctx.shadowBlur = 0;
        } else {
          this.particles.forEach(p => p.draw());
        }
      }
    }

    class Particle {
      constructor(x, y, color) {
        this.x = x;
        this.y = y;
        this.radius = Math.random() * 3 + 2;
        this.color = color;
        this.speedX = (Math.random() - 0.5) * 10;
        this.speedY = (Math.random() - 0.5) * 10;
        this.alpha = 1;
        this.gravity = 0.05;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY + this.gravity;
        this.alpha -= 0.015;
      }
      draw() {
        ctx.globalAlpha = this.alpha;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.shadowColor = this.color;
        ctx.shadowBlur = 15;
        ctx.fill();
        ctx.shadowBlur = 0;
        ctx.globalAlpha = 1;
      }
    }

    class Heart {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 5 + 2;
        this.speedX = (Math.random() - 0.5) * 2;
        this.speedY = (Math.random() - 0.5) * 2;
        this.color = "rgba(255, 105, 180, 0.8)";
        this.alpha = 1;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.alpha -= 0.01;
      }
      draw() {
        ctx.globalAlpha = this.alpha;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    function createHearts() {
      if (Math.random() < 0.02) hearts.push(new Heart());
    }

    function updateHearts() {
      hearts.forEach(heart => { heart.update(); heart.draw(); });
      hearts = hearts.filter(h => h.alpha > 0);
    }

    function animate() {
      ctx.fillStyle = "rgba(0, 0, 0, 0.2)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      createHearts();
      updateHearts();

      if (Math.random() < 0.04) fireworks.push(new Firework());

      fireworks = fireworks.filter(f => f.exploded ? f.particles.some(p => p.alpha > 0) : true);
      fireworks.forEach(f => { f.update(); f.draw(); });

      requestAnimationFrame(animate);
    }

    function typeWriter(element, text, speed) {
      let i = 0;
      let timer = setInterval(() => {
        element.innerHTML += text.charAt(i);
        i++;
        if (i === text.length) clearInterval(timer);
      }, speed);
    }

    const figurinhasList = ["Figurinhas/Z.webp", "Figurinhas/R.webp", "Figurinhas/S.webp", "Figurinhas/E.webp"];

    function criarFigurinha() {
      const img = document.createElement("img");
      img.src = figurinhasList[Math.floor(Math.random() * figurinhasList.length)];
      img.className = "figurinha";
      const maxWidth = 80;
      const maxHeight = 80;
      img.style.left = Math.random() * (window.innerWidth - maxWidth) + "px";
      img.style.top = Math.random() * (window.innerHeight - maxHeight) + "px";
      document.body.appendChild(img);

      function moverFigurinha() {
        const novaX = Math.random() * (window.innerWidth - maxWidth);
        const novaY = Math.random() * (window.innerHeight - maxHeight);
        img.style.transition = "left 4s ease-in-out, top 4s ease-in-out";
        img.style.left = novaX + "px";
        img.style.top = novaY + "px";
        setTimeout(moverFigurinha, 4000);
      }
      moverFigurinha();
    }

    function iniciarPaginaOriginal() {
      typeWriter(document.getElementById("texto1"), "Feliz Vida!", 100);

      setTimeout(() => {
        typeWriter(document.getElementById("texto2"), "Hoje é um dia especial, repleto de alegria, celebração e amor, pois é o dia do seu aniversário!", 100);
      }, 3000);

      const imagens = ["Vida.png", "Vida2.jpeg", "Vida3.jpeg", "Vida4.jpeg", "Vida5.jpeg", "Vida6.jpeg"];
      let index = 0;
      const imgElement = document.getElementById("image");

      setInterval(() => {
        imgElement.style.opacity = 0;
        setTimeout(() => {
          index = (index + 1) % imagens.length;
          imgElement.src = imagens[index];
          imgElement.style.opacity = 1;
        }, 500);
      }, 2000);

      setTimeout(() => {
        document.getElementById("finalMensagem").style.display = "block";
      }, 13000);
    }

    window.onload = function () {
      iniciarPaginaOriginal();
      for (let i = 0; i < 8; i++) criarFigurinha();
    };

    animate();

    window.addEventListener("resize", () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
</body>

</html>